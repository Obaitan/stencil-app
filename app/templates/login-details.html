{% extends "base.html" %}

{% block title %}
Stencil Application | Temporary Login
{% endblock %}

{% block style %}
  <link href="https://cdn.datatables.net/1.10.24/css/dataTables.bootstrap4.min.css" rel="stylesheet" />
{% endblock %}

{% block body %}
  <div id="accounts" class="spacing"> 
    <div class="container">
      <div class="table-base">
        <div class="text-center mb-2">
          <p class="title mb-0">Temporary Login Details</p>
          <p class="px-lg-5 anno">All entries will automatically be deleted 48 hours after they were created for security reasons. There is no backup for lost passwords on the platform after 48 hours. Also, all platform users should change their passwords after login in for the first time.</p>
        </div>
        <div class="table-responsive">
          <table class="table text-nowrap" id="loginDetails-table">
            <thead>
              <tr style="color: #083f30">
                <th scope="col">Name</th>
                <th scope="col">Login Details</th>
                <th scope="col">Zone / Circle</th>
                <th scope="col">Role</th>
                <th scope="col">Date Added</th>
              </tr>
            </thead>
            <tbody>
              {% for account in accounts %}
              <tr class="add">
                  <td>{{ account.name }}</td>
                  <td>{{ account.temp_password }}<br>{{ account.email }}</td>
                  <td>{{ account.zone }} / {{ account.circle }}</td>
                  <td>{{ account.role }}</td>
                  <td>{{ account.timestamp.strftime('%B %d, %Y') }}</td>                            
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        <div class="col-lg-6 mx-auto mt-4">
          <a class="btn btn-records btn-lg btn-block my-2" href="{{ url_for('helpers') }}" role="button">
            Back to helpers page
          </a>
        </div>
      </div>
    </div>  
  </div>
{% endblock %}

{% block script %}
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js"></script>
  <script type="text/javascript" src="https://cdn.datatables.net/1.10.24/js/dataTables.bootstrap4.min.js"></script>
{% endblock %}